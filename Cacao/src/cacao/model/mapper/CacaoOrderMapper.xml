<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper     
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"     
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">  

<mapper namespace="mapper.CacaoOrderMapper">    

<select id="orderList" parameterType="hashmap" resultType="info">
select info.i_id i_id, info.i_name i_name, info.i_cost i_cost 
from info
where info.i_id = #{id}
</select>

<select id="orderNextval" resultType="String">
select to_char(sysdate,'YYYYMMDD')||seq_deliver_id.nextval from dual
</select>

<insert id="orderInsert" parameterType="order">
insert into deliver(d_id, d_pay, d_name, d_addr, d_note, d_tel)
values (#{oStr},#{oPayment},#{oName},#{oAddr},#{oMemo},#{oTel})
</insert>

<insert id="itemInsert" parameterType="deliver">
insert into orderlist(o_id, d_id, m_email,i_id,o_cnt)
values (seq_orderlist_id.nextval,#{olDid},#{olEmail},#{olIid},#{olOcnt})
</insert>
</mapper> 
 